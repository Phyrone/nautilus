apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: minecraftproxies.nautilus.phyrone.de
spec:
  group: nautilus.phyrone.de
  names:
    categories: []
    kind: MinecraftProxy
    plural: minecraftproxies
    shortNames: []
    singular: minecraftproxy
  scope: Namespaced
  versions:
  - additionalPrinterColumns: []
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for MinecraftProxyV1Alpha1Spec via `CustomResource`
        properties:
          spec:
            properties:
              baseImage:
                nullable: true
                type: string
              install:
                nullable: true
                properties:
                  modrinth:
                    items:
                      type: string
                    nullable: true
                    type: array
                  software:
                    anyOf:
                    - required:
                      - bungeecord
                    - required:
                      - waterfall
                    - required:
                      - velocity
                    nullable: true
                    properties:
                      bungeecord:
                        type: string
                      velocity:
                        type: string
                      waterfall:
                        type: string
                    type: object
                  spigot:
                    items:
                      format: int32
                      type: integer
                    nullable: true
                    type: array
                type: object
              provisioner:
                nullable: true
                properties:
                  enabled:
                    nullable: true
                    type: boolean
                  image:
                    nullable: true
                    type: string
                type: object
              resources:
                nullable: true
                properties:
                  memory:
                    nullable: true
                    properties:
                      enableContainerLimit:
                        description: |-
                          If set to true, the container memory limit will be set to the max heap size + jvm overhead. If set to false, no memory limit will be set but only the heap size.

                          Default is false.
                        nullable: true
                        type: boolean
                      jvmOverhead:
                        description: |-
                          A margin to add to the max heap size for the JVM overhead like metaspace.

                          Default is 25% of the max heap size. If unsure, leave it at the default.
                        nullable: true
                        x-kubernetes-int-or-string: true
                      maxHeap:
                        description: |-
                          The max heap size for the JVM. This is the amount of memory the JVM can use for the heap. The JVM will use more memory than this value. The exact amount depends on the JVM implementation.

                          The value can be a number in bytes or a string with a unit. An empty string means no limit.

                          Default is 2G.
                        nullable: true
                        x-kubernetes-int-or-string: true
                      minHeap:
                        description: |-
                          The min heap size for the JVM. This is the amount of memory the JVM will start with. The JVM will use more memory than this value. The exact amount depends on the JVM implementation.

                          The value can be a number in bytes or a string with a unit. An empty string means no limit.

                          Default is the same as max heap size. (recommended)

                          This also sets the requested memory for the container.
                        nullable: true
                        x-kubernetes-int-or-string: true
                    type: object
                type: object
              template:
                nullable: true
                oneOf:
                - required:
                  - ref
                - required:
                  - git
                properties:
                  git:
                    description: |-
                      Use a git repository as the template.

                      The repository will be checked out at every server start. Fast-forward will be used if possible. Shallow clone is used if not cloned before.
                    items:
                      properties:
                        branch:
                          description: The branch to check out. If not set, the default branch is used.
                          nullable: true
                          type: string
                        path:
                          description: The path inside the repository to use as the template.
                          nullable: true
                          type: string
                        paths:
                          items:
                            type: string
                          nullable: true
                          type: array
                        repository:
                          description: |-
                            The url to the git repository to check out.

                            This can be any valid git url implemented in JGit (which should be equal to original git).
                          type: string
                      required:
                      - repository
                      type: object
                    type: array
                  ref:
                    description: NOT IMPLEMENTED YET
                    properties:
                      apiVersion:
                        description: API version of the referent.
                        type: string
                      fieldPath:
                        description: 'If referring to a piece of an object instead of an entire object, this string should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2]. For example, if the object reference is to a container within a pod, this would take on a value like: "spec.containers{name}" (where "name" refers to the name of the container that triggered the event) or if no container name is specified "spec.containers[2]" (container with index 2 in this pod). This syntax is chosen only to have some well-defined way of referencing a part of an object.'
                        type: string
                      kind:
                        description: 'Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                        type: string
                      name:
                        description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                        type: string
                      namespace:
                        description: 'Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                        type: string
                      resourceVersion:
                        description: 'Specific resourceVersion to which this reference is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency'
                        type: string
                      uid:
                        description: 'UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids'
                        type: string
                    type: object
                type: object
            type: object
          status:
            nullable: true
            type: object
        required:
        - spec
        title: MinecraftProxyV1Alpha1
        type: object
    served: true
    storage: true
    subresources:
      status: {}
